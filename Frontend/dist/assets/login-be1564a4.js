import{a as c}from"./axios-21b846bc.js";import{_ as u,o as m,c as _,a as s,w as i,v as d,b as p,p as g,d as h}from"./index-36df86d9.js";const f={data(){return{email:"",password:""}},methods:{async login(){try{const o=await c.post("http://localhost:8080/login",{email:this.email,password:this.password}),t=o.data.token,a=o.data.user;localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("userRole",a.role),console.log("User role stored:",a.role),a.role=="employee"?this.$router.push("/"):this.$router.push("/chart")}catch(o){console.error("Login failed:",o);const t=document.getElementById("status_display");t.textContent=o.response.data.message}}}},l=o=>(g("data-v-576a04ab"),o=o(),h(),o),b={class:"container"},y={class:"row justify-content-center align-items-center"},w={class:"col-md-4"},v=l(()=>s("h2",{class:"text-center"},"Login",-1)),k={class:"form-group"},x=l(()=>s("label",{for:"email"},"Email",-1)),I={class:"form-group"},S=l(()=>s("label",{for:"password"},"Password",-1)),E=l(()=>s("p",{id:"status_display"},null,-1));function B(o,t,a,U,r,n){return m(),_("div",b,[s("div",y,[s("div",w,[s("form",null,[v,s("div",k,[x,i(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.email=e),class:"form-control",id:"email",placeholder:"Enter Email"},null,512),[[d,r.email]])]),s("div",I,[S,i(s("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),class:"form-control",id:"password",placeholder:"Enter password"},null,512),[[d,r.password]])]),s("button",{onClick:t[2]||(t[2]=p((...e)=>n.login&&n.login(...e),["prevent"])),type:"submit",class:"btn btn-primary btn-block custom-margin-right"},"Login"),s("button",{onClick:t[3]||(t[3]=p(e=>this.$router.push("/signup"),["prevent"])),type:"submit",class:"btn btn-primary btn-block"},"Sign Up"),E])])])])}const V=u(f,[["render",B],["__scopeId","data-v-576a04ab"]]);export{V as default};
