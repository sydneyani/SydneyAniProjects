import{a as p}from"./axios-21b846bc.js";import{_ as u,o as m,c as _,a as s,w as i,v as c,b as d,p as g,d as f}from"./index-ec387a6e.js";const h={data(){return{email:"",password:""}},methods:{async login(){try{const e=await p.post(`${{}.VITE_ROOT_API}/login`,{email:this.email,password:this.password}),t=e.data.token,r=e.data.user;localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userRole",r.role),console.log("User role stored:",r.role),r.role=="employee"?this.$router.push("/"):this.$router.push("/chart")}catch(e){console.error("Login failed:",e);const t=document.getElementById("status_display");t.textContent=e.response.data.message}}}},l=e=>(g("data-v-7f6c69c5"),e=e(),f(),e),y={class:"container"},w={class:"row justify-content-center align-items-center"},b={class:"col-md-4"},v=l(()=>s("h2",{class:"text-center"},"Login",-1)),I={class:"form-group"},k=l(()=>s("label",{for:"email"},"Email",-1)),x={class:"form-group"},S=l(()=>s("label",{for:"password"},"Password",-1)),E=l(()=>s("p",{id:"status_display"},null,-1));function B(e,t,r,U,n,a){return m(),_("div",y,[s("div",w,[s("div",b,[s("form",null,[v,s("div",I,[k,i(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>n.email=o),class:"form-control",id:"email",placeholder:"Enter Email"},null,512),[[c,n.email]])]),s("div",x,[S,i(s("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=o=>n.password=o),class:"form-control",id:"password",placeholder:"Enter password"},null,512),[[c,n.password]])]),s("button",{onClick:t[2]||(t[2]=d((...o)=>a.login&&a.login(...o),["prevent"])),type:"submit",class:"btn btn-primary btn-block custom-margin-right"},"Login"),s("button",{onClick:t[3]||(t[3]=d(o=>this.$router.push("/signup"),["prevent"])),type:"submit",class:"btn btn-primary btn-block"},"Sign Up"),E])])])])}const L=u(h,[["render",B],["__scopeId","data-v-7f6c69c5"]]);export{L as default};
