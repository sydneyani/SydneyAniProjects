import{a as b}from"./axios-21b846bc.js";import{_ as v,k as f,o as i,c as a,a as t,w as C,v as k,F as m,r as p,t as l,i as c,g as y,l as w,m as P,p as S,d as x}from"./index-36df86d9.js";const V={data(){return{searchQuery:"",customers:[]}},computed:{filteredCustomers(){const s=this.searchQuery.toLowerCase();return this.customers.filter(o=>o.name.toLowerCase().includes(s)||o.email.toLowerCase().includes(s)||o.phonenumber.includes(s)||o.birthday.includes(s))}},methods:{getDate(s){if(!s)return"";const o=new Date(s),u=o.getUTCDate(),h=o.getUTCMonth()+1,_=o.getUTCFullYear();return`${h.toString().padStart(2,"0")}/${u.toString().padStart(2,"0")}/${_}`},search(){},toggleProducts(s){s.isProductsVisible=!s.isProductsVisible}},mounted(){b.get("http://localhost:8080/customers").then(s=>{this.customers=(s==null?void 0:s.data)||[]}).catch(s=>{console.error("Error fetching data from API:",s)})}},r=s=>(S("data-v-9ca5b307"),s=s(),x(),s),B={class:"container"},D=r(()=>t("h1",null,"Customer Search List",-1)),T={class:"input-group mb-3"},N={class:"input-group-append"},I={class:"table table-striped"},L=r(()=>t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Phone Number"),t("th",null,"Birthdate"),t("th",null,"Products"),t("th")])],-1)),Q=["onClick"],E={key:0,class:"list-group product-list"},F={class:"product-details"},U={class:"row"},A={class:"col-md-6"},$=r(()=>t("strong",null,"Description:",-1)),q={class:"col-md-6"},M=r(()=>t("strong",null,"Type:",-1)),j={class:"row"},G={class:"col-md-6"},H=r(()=>t("strong",null,"Price:",-1)),Y={class:"col-md-6"},z=r(()=>t("strong",null,"Quantity:",-1)),J={key:0,class:"row"},K={class:"col-md-6"},O=r(()=>t("strong",null,"Brand:",-1)),R={key:1,class:"row"},W={class:"col-md-6"},X=r(()=>t("strong",null,"Contacts Brand:",-1)),Z={key:2,class:"row"},tt={class:"col-md-6"},st=r(()=>t("strong",null,"Accessory Type:",-1));function et(s,o,u,h,_,d){const g=f("router-link");return i(),a("div",B,[t("div",null,[D,t("div",T,[C(t("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>_.searchQuery=e),type:"text",class:"form-control",placeholder:"Search by name, email, phone, or birthdate"},null,512),[[k,_.searchQuery]]),t("div",N,[t("button",{class:"btn btn-primary",onClick:o[1]||(o[1]=(...e)=>d.search&&d.search(...e))},"Search")])]),t("table",I,[L,t("tbody",null,[(i(!0),a(m,null,p(d.filteredCustomers,e=>(i(),a("tr",{key:e._id},[t("td",null,l(e.name),1),t("td",null,l(e.email),1),t("td",null,l(e.phoneNumber),1),t("td",null,l(d.getDate(e.birthday)),1),t("td",null,[t("button",{class:"btn btn-link",onClick:n=>d.toggleProducts(e)},l(e.isProductsVisible?"Hide Products":"Show Products"),9,Q),e.isProductsVisible?(i(),a("ul",E,[(i(!0),a(m,null,p(e.products,n=>(i(),a("li",{class:"list-group-item",key:n._id},[t("div",F,[t("div",U,[t("div",A,[$,c(" "+l(n.description),1)]),t("div",q,[M,c(" "+l(n.type),1)])]),t("div",j,[t("div",G,[H,c(" $"+l(n.price.toFixed(2)),1)]),t("div",Y,[z,c(" "+l(n.quantity),1)])]),n.type.includes("Glasses")?(i(),a("div",J,[t("div",K,[O,c(" "+l(n.glassesBrand),1)])])):n.type.includes("Contacts")?(i(),a("div",R,[t("div",W,[X,c(" "+l(n.contactsBrand),1)])])):n.type.includes("Accessories")?(i(),a("div",Z,[t("div",tt,[st,c(" "+l(n.accessoryType.join(", ")),1)])])):y("",!0)])]))),128))])):y("",!0)]),t("td",null,[w(g,{to:`/editcustomer/${e._id}`,class:"btn btn-primary"},{default:P(()=>[c(" Edit ")]),_:2},1032,["to"])])]))),128))])])])])}const lt=v(V,[["render",et],["__scopeId","data-v-9ca5b307"]]);export{lt as default};
