import{a as b}from"./axios-21b846bc.js";import{_ as T,o as p,c as m,a as e,w as a,v as h,F as V,r as U,b as P,e as f,f as k,g as v,h as r,i as d,t as x,p as B,d as N,j as g}from"./index-ec387a6e.js";const S={data(){return{customer:{id:null,name:null,phoneNumber:null,email:null,birthday:null},products:[{description:null,price:null,quantity:null,type:[],glassesBrand:null,contactsBrand:null,accessoryType:[],subType:null}]}},mounted(){this.$route.params.id&&this.fetchData(this.$route.params.id)},methods:{addProduct(){this.products.push({description:null,price:null,quantity:null,type:[],glassesBrand:null,contactsBrand:null,accessoryType:[]})},removeProduct(l){this.products.splice(l,1)},shouldShowRemoveButton(l){return this.products.length>1&&l!==0},getDate(l){if(!l)return"";const t=new Date(l),_=t.getFullYear(),y=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return`${_}-${y}-${n}`},fetchData(l){b.get({}.VITE_ROOT_API+"/customers/"+l).then(t=>{this.customer={...t.data,birthday:this.getDate(t.data.birthday)},this.products=t.data.products}).catch(t=>{console.error("Error fetching data from API:",t)})},async createData(){const{id:l,name:t,phoneNumber:_,email:y,birthday:n}=this.customer;let i=localStorage.getItem("user");i=i&&typeof i=="string"?JSON.parse(i):null;const o={name:t,email:y,phoneNumber:_,birthday:n,employee_id:i.id,products:this.products};try{const u=await b.post({}.VITE_ROOT_API+"/customers",o);u!=null&&u.data&&this.$router.push("/returningcustomers")}catch(u){console.log(u.message)}},handleSubmit(){this.$route.params.id?this.updateData(this.$route.params.id):this.createData()},async updateData(l){const{name:t,phoneNumber:_,email:y,birthday:n}=this.customer,i={name:t,email:y,phoneNumber:_,birthday:n,products:this.products};try{const o=await b.put({}.VITE_ROOT_API+`/customers/${l}`,i);o!=null&&o.data&&this.$router.push("/returningcustomers")}catch(o){console.log(o.message)}}},computed:{totalPrice(){return this.products.reduce((l,t)=>l+parseFloat(t.price||0),0)}}},c=l=>(B("data-v-15e6eef7"),l=l(),N(),l),R={class:"container"},A=c(()=>e("h2",{class:"header"},"New Customer Information",-1)),C={class:"form-row"},O={class:"form-group col-md-6"},D=c(()=>e("label",{for:"name"},"Name",-1)),G={class:"form-group col-md-6"},I=c(()=>e("label",{for:"phoneNumber"},"Phone Number",-1)),w={class:"form-group col-md-6"},F=c(()=>e("label",{for:"email"},"Email",-1)),L={class:"form-group col-md-6"},M=c(()=>e("label",{for:"birthdate"},"Birthdate",-1)),E=c(()=>e("h2",{class:"header"},"Product Information",-1)),q={id:"checks",class:"form-group"},Y=c(()=>e("label",{for:"checks"},"Type",-1)),H={class:"form-check"},j=["onUpdate:modelValue"],J=c(()=>e("label",{class:"form-check-label",for:"checkboxGlasses"}," Glasses ",-1)),Q={class:"form-check"},z=["onUpdate:modelValue"],K=c(()=>e("label",{class:"form-check-label",for:"checkboxContacts"}," Contacts ",-1)),W={class:"form-check"},X=["onUpdate:modelValue"],Z=c(()=>e("label",{class:"form-check-label",for:"checkboxAccessories"}," Accessories ",-1)),$={key:0,class:"form-group col-md-6"},ee=c(()=>e("label",{for:"glassesBrand"},"Glasses Brand",-1)),oe=["onUpdate:modelValue"],se=g('<option value="Generic" data-v-15e6eef7>Generic</option><option value="TomFord" data-v-15e6eef7>Tom Ford</option><option value="Gucci" data-v-15e6eef7>Gucci</option><option value="Burberry" data-v-15e6eef7>Burberry</option><option value="Versace" data-v-15e6eef7>Versace</option><option value="Oakley" data-v-15e6eef7>Oakley</option><option value="Ferragamo" data-v-15e6eef7>Ferragamo</option><option value="LilyFrames" data-v-15e6eef7>Lily Frames</option><option value="DavidBeckham" data-v-15e6eef7>David Beckham</option><option value="Polo" data-v-15e6eef7>Polo</option><option value="Other" data-v-15e6eef7>Other</option>',11),te=[se],ae={key:1,class:"form-group col-md-6"},ce=c(()=>e("label",{for:"contactsBrand"},"Contacts",-1)),le=["onUpdate:modelValue"],ne=g('<option value="Generic" data-v-15e6eef7>Scleral</option><option value="RGP" data-v-15e6eef7>RGP</option><option value="Hybrid" data-v-15e6eef7>Hybrid</option><option value="Orthokeratology" data-v-15e6eef7>Orthokeratology</option><option value="Other2" data-v-15e6eef7>Other</option>',5),ie=[ne],re={key:2,class:"form-group"},de=c(()=>e("label",{for:"contactsBrand"},"Select SubType ",-1)),ue={class:"form-check"},pe=["onUpdate:modelValue","onChange"],me=c(()=>e("label",{class:"form-check-label",for:"checkboxGlasses"}," Reflective ",-1)),he={class:"form-check"},_e=["onUpdate:modelValue","onChange"],ye=c(()=>e("label",{class:"form-check-label",for:"Accessories"}," Non Reflective ",-1)),ve={key:0},fe=c(()=>e("label",{for:"accessoryType"},"Accessory Type",-1)),be={class:"form-check"},ke=["onUpdate:modelValue"],ge={class:"form-check"},Te=["onUpdate:modelValue"],Ve={class:"form-check"},Ue=["onUpdate:modelValue"],Pe={class:"form-check"},xe=["onUpdate:modelValue"],Be={class:"form-check"},Ne=["onUpdate:modelValue"],Se={class:"form-check"},Re=["onUpdate:modelValue"],Ae={class:"form-check"},Ce=["onUpdate:modelValue"],Oe={class:"form-check"},De=["onUpdate:modelValue"],Ge={class:"form-check"},Ie=["onUpdate:modelValue"],we={key:1},Fe=c(()=>e("label",{for:"accessoryType"},"Accessory Type",-1)),Le={class:"form-check"},Me=["onUpdate:modelValue"],Ee={class:"form-group col-md-3"},qe=c(()=>e("label",{for:"price"},"Price",-1)),Ye=["onUpdate:modelValue"],He={class:"form-group col-md-2"},je=c(()=>e("label",{for:"quantity"},"Quantity",-1)),Je=["onUpdate:modelValue"],Qe={class:"form-group col-md-6"},ze=c(()=>e("label",{for:"description"},"Description (Optional)",-1)),Ke=["onUpdate:modelValue"],We=["onClick"],Xe={class:"form-group"},Ze=c(()=>e("div",{class:"form-group"},[e("input",{type:"submit",class:"btn btn-primary submitButton"})],-1));function $e(l,t,_,y,n,i){return p(),m("div",R,[e("form",{class:"col-md-8",onSubmit:t[5]||(t[5]=P((...o)=>i.handleSubmit&&i.handleSubmit(...o),["prevent"]))},[e("div",null,[A,e("div",C,[e("div",O,[D,a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>n.customer.name=o),type:"text",class:"form-control",id:"name",placeholder:"First Name"},null,512),[[h,n.customer.name]])])]),e("div",G,[I,a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.customer.phoneNumber=o),type:"tel",class:"form-control",id:"phoneNumber",placeholder:"Phone Number"},null,512),[[h,n.customer.phoneNumber]])]),e("div",w,[F,a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>n.customer.email=o),type:"email",class:"form-control",id:"email",placeholder:"Email"},null,512),[[h,n.customer.email]])]),e("div",L,[M,a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>n.customer.birthday=o),type:"date",class:"form-control",id:"birthdate",placeholder:"MM/DD/YYYY"},null,512),[[h,n.customer.birthday]])])]),e("div",null,[E,(p(!0),m(V,null,U(n.products,(o,u)=>(p(),m("div",{key:u},[e("div",q,[Y,e("div",H,[a(e("input",{"onUpdate:modelValue":s=>o.type=s,class:"form-check-input",type:"radio",value:"Glasses",id:"checkboxGlasses"},null,8,j),[[f,o.type]]),J]),e("div",Q,[a(e("input",{"onUpdate:modelValue":s=>o.type=s,class:"form-check-input",type:"radio",value:"Contacts",id:"checkboxContacts"},null,8,z),[[f,o.type]]),K]),e("div",W,[a(e("input",{"onUpdate:modelValue":s=>o.type=s,class:"form-check-input",type:"radio",value:"Accessories",id:"checkboxAccessories"},null,8,X),[[f,o.type]]),Z]),o.type.includes("Glasses")?(p(),m("div",$,[ee,a(e("select",{class:"form-control",id:"glassesBrand","onUpdate:modelValue":s=>o.glassesBrand=s},te,8,oe),[[k,o.glassesBrand]])])):v("",!0),o.type.includes("Contacts")?(p(),m("div",ae,[ce,a(e("select",{class:"form-control",id:"contactsBrand","onUpdate:modelValue":s=>o.contactsBrand=s},ie,8,le),[[k,o.contactsBrand]])])):v("",!0),o.type.includes("Accessories")?(p(),m("div",re,[de,e("div",ue,[a(e("input",{"onUpdate:modelValue":s=>o.subType=s,onChange:()=>{o.accessoryType=[]},class:"form-check-input",type:"radio",value:"Reflective"},null,40,pe),[[f,o.subType]]),me]),e("div",he,[a(e("input",{"onUpdate:modelValue":s=>o.subType=s,class:"form-check-input",onChange:()=>{o.accessoryType=[]},type:"radio",value:"Non-Reflective"},null,40,_e),[[f,o.subType]]),ye]),o.subType==="Reflective"?(p(),m("div",ve,[fe,e("div",be,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"lvl2AR"},null,8,ke),[[r,o.accessoryType]]),d("Level 2 AR ")]),e("div",ge,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"lvl3AR"},null,8,Te),[[r,o.accessoryType]]),d("Level 3 AR ")]),e("div",Ve,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"premiumAR"},null,8,Ue),[[r,o.accessoryType]]),d("Premium AR ")]),e("div",Pe,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"transitions"},null,8,xe),[[r,o.accessoryType]]),d("Transitions ")]),e("div",Be,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"progressivelvl1"},null,8,Ne),[[r,o.accessoryType]]),d("Progressive Level 1 ")]),e("div",Se,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"progressivelvl2"},null,8,Re),[[r,o.accessoryType]]),d("Progressive Level 2 ")]),e("div",Ae,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"progressivelvl3"},null,8,Ce),[[r,o.accessoryType]]),d("Progressive Level 3 ")]),e("div",Oe,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"progressivelvl4"},null,8,De),[[r,o.accessoryType]]),d("Progressive Level 4 ")]),e("div",Ge,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"Other3"},null,8,Ie),[[r,o.accessoryType]]),d("Other ")])])):v("",!0),o.subType==="Non-Reflective"?(p(),m("div",we,[Fe,e("div",Le,[a(e("input",{id:"accessoryType","onUpdate:modelValue":s=>o.accessoryType=s,class:"form-check-input",type:"checkbox",value:"antiCoating"},null,8,Me),[[r,o.accessoryType]]),d("Anti-reflective Coating Standard ")])])):v("",!0)])):v("",!0)]),e("div",Ee,[qe,a(e("input",{"onUpdate:modelValue":s=>o.price=s,type:"number",min:"0.01",step:"0.01",class:"form-control",id:"itemPrice"},null,8,Ye),[[h,o.price]])]),e("div",He,[je,a(e("input",{"onUpdate:modelValue":s=>o.quantity=s,type:"number",min:"0",class:"form-control",id:"quantity"},null,8,Je),[[h,o.quantity]])]),e("div",Qe,[ze,a(e("textarea",{"onUpdate:modelValue":s=>o.description=s,type:"textarea",class:"form-control",id:"description"},null,8,Ke),[[h,o.description]])]),i.shouldShowRemoveButton(u)?(p(),m("input",{key:0,type:"button",onClick:s=>i.removeProduct(u),class:"btn btn-danger form-group",value:"Remove Product"},null,8,We)):v("",!0),e("input",{type:"button",onClick:t[4]||(t[4]=(...s)=>i.addProduct&&i.addProduct(...s)),class:"btn btn-success form-group",value:"Add Product"}),e("div",Xe,[e("p",null,"Total Price: $"+x(i.totalPrice.toFixed(2)),1)])]))),128))]),Ze],32)])}const so=T(S,[["render",$e],["__scopeId","data-v-15e6eef7"]]);export{so as default};
